<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Orestes ‘Pat’ Hastings</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Orestes ‘Pat’ Hastings</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./pdfs/HastingsCV.pdf" target="_blank"> 
<span class="menu-text">CV (pdf)</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./#updates"> 
<span class="menu-text">Updates</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./#research"> 
<span class="menu-text">Research</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">





<style>
  /* Flexbox layout for larger screens */
  .profile-container {
    display: flex;
    align-items: center;
    margin-bottom: 20px;
  }

  .profile-container img {
    width: 150px;
    margin-right: 20px;
  }

  /* Media query for mobile view */
  @media (max-width: 600px) {
    .profile-container {
      display: block; /* Stack the image and text on narrow screens */
    }

    .profile-container img {
      margin-right: 0; /* Remove the right margin for mobile */
      margin-bottom: 10px; /* Add some space below the image */
    }
  }
</style>

<div class="profile-container">
  <div>
    <img src="img/PatHastings_profile.jpg" alt="Orestes 'Pat' Hastings">
  </div>
  <div>
    <p>I'm an Associate Professor of <a href="https://www.libarts.colostate.edu/people/oph/" target="_blank">Sociology at Colorado State University</a>. My research lies broadly at the intersection of inequality, economic sociology, and family demography. Most of my current work focuses on using quantitative and computational methods to understand the socioeconomic correlates of parenting and their implications for children’s lives. But my interests have been quite varied, and I've also published articles on income inequality, happiness, religion, the spiritul but not religious, gender, social capital, survey methodology, and even <a href="#atomic-clock">physics</a> (a very long time ago). I not only study parenting but attempt to practice it as a dad to three boys, and, when possible, I enjoy running (sometimes <a href="https://ultrasignup.com/results_participant.aspx?fname=Orestes%20Pat&amp;lname=Hastings#" target="_blank">really, really far</a>), climbing, biking, and skiing. 
    </p>
    <p>
    Here is my <a href="pdfs/HastingsCV.pdf" target="_blank">CV</a>. 
    </p>
  </div>
</div>
<section id="findme" class="level2">
<h2 class="anchored" data-anchor-id="findme">Find Me</h2>
<ul>
<li><a href="https://www.libarts.colostate.edu/people/oph/">CSU Sociology</a> (Go Rams!)</li>
<li><a href="https://scholar.google.com/citations?user=3KgSYjsAAAAJ&amp;hl=en">Google Scholar</a></li>
<li><a href="https://github.com/ophastings">GitHub</a></li>
<li><a href="https://x.com/ophastings">X/Twitter</a></li>
<li><a href="https://bsky.app/profile/ophastings.bsky.social">Bluesky</a></li>
<li><a href="https://www.linkedin.com/in/ophastings">LinkedIn</a></li>
</ul>
</section>
<section id="updates" class="level2">
<h2 class="anchored" data-anchor-id="updates">Updates</h2>
<ul>
<li><p>Sabbatical! This fall I am visiting the <a href="https://www.sciencespo.fr/osc/en.html">Centre for Research on Social Inequalities, Sciences Po</a> and <a href="https://www.nuffield.ox.ac.uk">Nuffield College, University of Oxford</a> (Oct 2024)</p></li>
<li><p>How can we measure the cultural logics of parenting using computational text analysis? We show one approach in a <a href="https://doi.org/10.1016/j.ssresearch.2024.103074">new paper in Social Science Research</a> (with <a href="https://www.lucamariapesando.com/">Luca Maria Pesando</a>). We find two key dimensions of parenting logics: (1) assertive vs negotiated parenting, and (2) pedagogic vs pragmatic parenting. (Sept 2024)</p></li>
<li><p>New paper! There are larger class gaps in parental investments during the summer and among families with younger children. <a href="https://sites.google.com/view/joe-labriola">Joe LaBriola</a> and I examine this (and more) in <a href="https://doi.org/10.1016/j.rssm.2023.100846">“The Summer Parental Investment Gap? Socioeconomic Gaps in the Seasonality of Parental Expenditures and Time with School-age Children”</a> that is published in <em>Research in Social Stratification and Mobility</em>. (Nov 2023)</p></li>
<li><p>Tenured and promoted to Associate Professor! (July 2023)</p></li>
<li><p>My new paper <a href="https://doi.org/10.1080/02732173.2023.2169214">“Linking Individual and Collective Social Capital: Operationalization, Association, and Sociodemographic Heterogeneity”</a> with <a href="https://sociology.colostate.edu/people/scosby/">Shawna Bendeck</a> is now published in <em>Sociological Spectrum</em>. (Feb 2023)</p></li>
<li><p>My new data visualization article <a href="https://doi.org/10.1177/23780231221103054">“Parental Investments of Money for White, Black, and Hispanic Children in the United States”</a> is now published in <em>Socius</em>. (June 2022)</p></li>
<li><p>Received a Summer Institutes in Computational Social Science <a href="https://sicss.io/">(SICSS)</a> research grant from the Social Science Research Council to support my project <a href="https://www.ssrc.org/grantees/whats-a-parent-to-do-measuring-parenting-approaches-in-the-us-with-topic-modeling-for-short-texts/">“What’s a Parent to do? Measuring Parenting Approaches in the US with Topic Modeling for Short Texts”</a> with <a href="https://www.lucamariapesando.com">Luca Maria Pesando</a>. (March 2022)</p></li>
<li><p>New article! <a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/jomf.12741">“Family Structure and Inequalities in Parents’ Financial Investments in Children”</a> with <a href="https://www.hks.harvard.edu/faculty/daniel-schneider">Daniel Schneider</a> is in the <em>Journal of Marriage and Family</em>. We previously summarized some of this research in <a href="https://theconversation.com/a-quarter-of-us-parents-are-unmarried-and-that-changes-how-much-they-invest-in-their-kids-120931"><em>The Conversation</em></a> (May 2021)</p></li>
<li><p>My new article <a href="https://academic.oup.com/sf/article/99/2/447/5810065?guestAccessKey=5e6e6500-a0f3-46dd-a268-bab3979f5fa8">“Happiness in Hard Times: Does Religion Buffer the Negative Effect of Unemployment on Happiness?”</a> with <a href="https://sociology.stanford.edu/people/kassandra-roeser">Kassandra Roeser</a> has now been published in <em>Social Forces</em>. (Nov 2020)</p></li>
<li><p>The <a href="https://housingmatters.urban.org/research-summary/school-quality-influences-where-parents-choose-live-and-how-much-theyre-willing">Urban Institute’s <em>Housing Matters</em> posted a summary</a> of my recently <a href="https://www.sociologicalscience.com/articles-v6-16-416/">published research</a> with <a href="https://wws.princeton.edu/faculty-research/faculty/amg5">Adam Goldstein</a> on how school quality shapes how much parent’s are willing to spend on housing. (Jan 2020)</p></li>
</ul>
</section>
<section id="research" class="level2">
<h2 class="anchored" data-anchor-id="research">Research</h2>
<p><strong><a href="https://doi.org/10.1016/j.ssresearch.2024.103074">“What’s a Parent to do? Measuring Cultural Logics of Parenting with Computational Text Analysis.”</a></strong> (2024). <em>Social Science Research</em> 124:103074.</p>
<ul>
<li>with Luca Maria Pesando</li>
<li><a href="https://github.com/ophastings/replications/tree/main/2024-parenting-logics-text-analysis-SSR">Replication Materials</a></li>
<li><a href="pdfs/appendix_Parenting-Logics-Text-Analysis.pdf">Appendix</a></li>
</ul>
<p><strong><a href="https://doi.org/10.1016/j.rssm.2023.100846">“The Summer Parental Investment Gap? Socioeconomic Gaps in the Seasonality of Parental Expenditures and Time with School-Age Children.”</a></strong> (2023). <em>Research in Social Stratification and Mobility</em> 87:100846.</p>
<ul>
<li>with Joe LaBriola</li>
<li><a href="pdfs/appendix_parental-investments-summer-gap.pdf">Appendix</a></li>
<li><a href="https://osf.io/preprints/socarxiv/qvdcu">Open-Access Preprint</a></li>
</ul>
<p><strong><a href="https://doi.org/10.1080/02732173.2023.2169214">“Linking Individual and Collective Social Capital: Operationalization, Association, and Sociodemographic Heterogeneity.”</a></strong> (2023). <em>Sociological Spectrum</em> 43(1):31-51.</p>
<ul>
<li>with Shawna Bendeck</li>
<li><a href="pdfs/appendix_social-capital-heterogeneity.pdf">Appendix</a></li>
<li><a href="https://osf.io/preprints/socarxiv/mf5kq">Open-Access Preprint</a></li>
</ul>
<p><strong><a href="https://doi.org/10.1177/23780231221103054">“Parental Investments of Money for White, Black, and Hispanic Children in the United States.”</a></strong> (2022). <em>Socius</em> 8:1-2.</p>
<ul>
<li><a href="pdfs/supplement_2022_parental-investments-race.pdf">Appendix</a></li>
</ul>
<p><strong><a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/jomf.12741">“Family Structure and Inequalities in Parents’ Financial Investments in Children.”</a></strong> (2021). <em>Journal of Marriage and Family</em> 83(3):717-736.</p>
<ul>
<li>with Daniel Schneider</li>
<li><a href="pdfs/Appendix_family-structure-parental-Investments.pdf">Appendix</a></li>
<li>Coverage: <a href="https://www.brookings.edu/blog/up-front/2020/12/09/class-notes-rising-income-and-wealth-inequality-parent-spending-and-more/">Brookings Institution <em>Class Notes</em></a></li>
</ul>
<p><strong><a href="https://academic.oup.com/sf/article/99/2/447/5810065?guestAccessKey=5e6e6500-a0f3-46dd-a268-bab3979f5fa8">“Happiness in Hard Times: Does Religion Buffer the Negative Effect of Unemployment on Happiness?”</a></strong> (2020). <em>Social Forces</em> 99(2):447-473.</p>
<ul>
<li>with Kassandra K. Roeser</li>
<li><a href="pdfs/appendix_happy-hard-times-religion.pdf">Replication Materials</a></li>
<li><a href="https://osf.io/preprints/socarxiv/pabx2">Open-Access Preprint</a></li>
</ul>
<p><strong><a href="https://theconversation.com/a-quarter-of-us-parents-are-unmarried-and-that-changes-how-much-they-invest-in-their-kids-120931">“A Quarter of US Parents are Unmarried – and that Changes How Much They Invest in Their Kids”</a></strong> (2019). <em>The Conversation</em>.</p>
<ul>
<li>with Daniel Schneider</li>
<li>Coverage: <a href="https://www.dissentmagazine.org/online_articles/meritocracys-casualties"><em>Dissent</em></a></li>
</ul>
<p><strong><a href="https://doi.org/10.1016/j.rssm.2019.01.004">“Who Feels It? Income Inequality, Relative Deprivation, and Financial Satisfaction in U.S. States, 1973–2012.”</a></strong> (2019). <em>Research in Social Stratification and Mobility</em> 60:1-15.</p>
<ul>
<li>Coverage: <a href="https://www.theatlantic.com/family/archive/2019/07/who-feels-rich/594439/"><em>The Atlantic</em></a>, <a href="https://mailchi.mp/tobinproject/tobin-scholar-newsletter-mobility-expectations-and-behavior-in-disadvantaged-youth-income-inequality-and-regional-economic-divergence-and-more">The Tobin Project</a></li>
</ul>
<p><strong><a href="https://www.sociologicalscience.com/articles-v6-16-416/">“Buying In: Positional Competition, Schools, Income Inequality, and Housing Consumption.”</a></strong> (2019). <em>Sociological Science</em> 6:416-445.</p>
<ul>
<li>with Adam Goldstein</li>
<li>Coverage: <a href="https://housingmatters.urban.org/research-summary/school-quality-influences-where-parents-choose-live-and-how-much-theyre-willing">Urban Institute</a></li>
</ul>
<p><strong><a href="https://doi.org/10.1177/0003122418772034">“Income Inequality and Class Divides in Parental Investment”</a></strong> (2018). <em>American Sociological Review</em> 83(3):475-507.</p>
<ul>
<li>with Daniel Schneider, Joe LaBriola</li>
<li><a href="pdfs/parentinginequal_supplement.pdf">Appendix</a></li>
<li><a href="https://github.com/ophastings/replications/tree/main/2018-inequality-parental-investment-ASR">Replication Materials</a></li>
<li>Prize for Exemplary Work on Inequality and Decision Making, The Tobin Project</li>
<li>Article of the Year Award, ASA Family Section</li>
<li>Coverage: <a href="https://www.nytimes.com/2018/12/25/upshot/the-relentlessness-of-modern-parenting.html"><em>New York Times</em></a>, <a href="https://www.newsweek.com/myth-meritocracy-trumps-america-1365422"><em>Newsweek</em></a>, <a href="https://www.usnews.com/news/education-news/articles/2018-05-28/income-inequality-exacerbates-the-achievement-gap"><em>US News &amp; World Report</em></a>, <a href="https://hechingerreport.org/money-makes-the-difference-for-kindergarteners-in-the-summer/"><em>Hechinger Report</em></a>, <a href="http://www.russellsage.org/news/income-inequality-and-class-divides-parental-investments">Russell Sage Foundation</a>, <a href="https://www.dissentmagazine.org/online_articles/meritocracys-casualties"><em>Dissent</em></a>, <a href="https://www.coloradoan.com/story/news/2018/05/31/colorado-state-university-research-shows-education-spending-gap/661289002/"><em>Coloradoan</em></a>, <a href="https://libarts.source.colostate.edu/study-gap-between-what-the-rich-and-poor-spend-on-their-kids-is-widening/">CSU SOURCE</a></li>
</ul>
<p><strong><a href="https://doi.org/10.1016/j.ssresearch.2018.04.005">“Less Equal, Less Trusting? Reexamining Longitudinal and Cross-sectional Effects of Income Inequality on Trust in U.S. States, 1973–2012”</a></strong> (2018). <em>Social Science Research</em> 74:77-95.</p>
<ul>
<li><a href="https://osf.io/preprints/socarxiv/dx8av">Open-Access Preprint</a></li>
</ul>
<p><strong><a href="http://doi.org/10.1177/2378023117722330">“Keeping up with the Joneses: How Households Fared in the Era of High Income Inequality and the Housing Price Bubble, 1999–2007”</a></strong> (2017). <em>Socius</em> 3:1-15.</p>
<ul>
<li>with Neil Fligstein, Adam Goldstein</li>
<li>Coverage: <a href="https://www.nytimes.com/2016/07/07/opinion/campaign-stops/how-falling-behind-the-joneses-fueled-the-rise-of-trump.html"><em>New York Times</em></a>, <a href="https://www.washingtonpost.com/news/wonk/wp/2016/07/27/why-rich-neighbors-are-bad-for-you"><em>Washington Post</em> Wonkblog</a>, <a href="http://mailchi.mp/tobinproject/tobin-scholar-newsletter-the-effects-of-exposure-to-rising-inequality-how-misperceptions-shape-opinions-on-inequality-and-more">The Tobin Project</a></li>
</ul>
<p><strong><a href="https://doi.org/10.1093/sf/sox061">“Income Inequality and Household Labor”</a></strong> (2017). <em>Social Forces</em> 96(2):481-506.</p>
<ul>
<li>with Daniel Schneider</li>
<li><a href="pdfs/Appendix_Income-Inequality-Household-Labor.pdf">Appendix</a></li>
<li><a href="https://osf.io/preprints/socarxiv/pwny5">Open-Access Preprint</a></li>
<li>Article of the Year Award, ASA Family Section</li>
</ul>
<p><strong><a href="http://www.sciencedirect.com/science/article/pii/S0049089X16000272">“Not a Lonely Crowd? Social Connectedness, Religious Service Attendance, and the Spiritual But Not Religious”</a></strong> (2016). <em>Social Science Research</em> 57:63-79.</p>
<ul>
<li>Best Student Paper Award, ASA Sociology of Religion Section</li>
<li>Robert J. McNamara Student Paper Award, Association for the Sociology of Religion</li>
</ul>
<p><strong><a href="https://www.sociologicalscience.com/articles-v3-43-971/">“Reliability of the Core Items in the General Social Survey: Estimates from the Three-wave Panels, 2006-2014”</a></strong> (2016). <em>Sociological Science</em> 3:971-1002.</p>
<ul>
<li>with Michael Hout</li>
</ul>
<p><strong><a href="http://link.springer.com/article/10.1007/s13524-015-0437-7">“Socioeconomic Variation in the Demographic Response to Economic Shocks in the United States: Evidence from the Great Recession”</a></strong> (2015). <em>Demography</em> 52(6):1893-1915.</p>
<ul>
<li>with Daniel Schneider</li>
</ul>
<p><strong><a href="https://doi.org/10.1017/CBO9781139226479.019">“Recession, Religion, and Happiness, 2006–2010”</a></strong> (2014). In <em>Religion and Inequality in America: Research and Theory on Religion’s Role in Stratification</em>, Lisa A. Keister and Darren E. Sherkat (eds.). Cambridge University Press.</p>
<ul>
<li>with Michael Hout</li>
</ul>
<p><strong><a href="https://academic.oup.com/socrel/article-abstract/74/4/471/1692486/Rethinking-Religious-Gender-Differences-The-Case">“Rethinking Religious Gender Differences: The Case of Elite Women”</a></strong> (2013). <em>Sociology of Religion</em> 74(4):471-495.</p>
<ul>
<li>with D. Michael Lindsay</li>
</ul>
<p><strong><a href="http://gss.norc.org/Documents/reports/methodological-reports/MR119.pdf">“Reliability and Stability Estimates for the GSS Core Items from the Three-wave Panels, 2006–2010”</a></strong> (2012). <em>GSS Methodological Report #119</em>. NORC.</p>
<ul>
<li>with Michael Hout</li>
</ul>
<p><strong><a href="http://tf.nist.gov/general/pdf/2295.pdf">“Recent Atomic Clock Comparisons at NIST”</a></strong> (2008). <em>The European Physical Journal Special Topics</em> 163:19-35. {#atomic-clock}</p>
<ul>
<li>with L. Lorini, N. Ashby, A. Brusch, S. Diddams, R. Drullinger, E. Eason, T. Fortier, T. Heavner, D. Hume, W. Itano, S. Jefferts, N. Newbury, T. Parker, T. Rosenband, J. Stalnaker, W. Swann, D. Wineland, and J. Bergquist</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>